<div class="animated fadeIn">
  <div class="card">
    <div class="email-app">
      <!-- <nav>
          <a [routerLink]="['/apps/email/compose']" class="btn btn-danger btn-block">New Email</a>
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/apps/email/inbox']"><i class="fa fa-inbox"></i> Inbox <span class="badge badge-danger">4</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="fa fa-star"></i> Stared</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="fa fa-rocket"></i> Sent</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="fa fa-trash-o"></i> Trash</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="fa fa-bookmark"></i> Important<span class="badge badge-info">5</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="fa fa-inbox"></i> Inbox <span class="badge badge-danger">4</span></a>
            </li>
          </ul>
        </nav> -->
      <main>
        <p class="text-center" style="font-weight: bold;">Complain
          {{selectedTicketStatus?.name?.charAt(0).toUpperCase()}}{{selectedTicketStatus?.name?.slice(1).toLowerCase() }}
        </p>
        <form class="needs-validation" (ngSubmit)="onSubmitEscalationForm()" name="escalationForm" role="form"
          novalidate [formGroup]="escalationForm">
          <div class="form-row mb-3" [hidden]="escalationService.selectedTicketStatusId !== 5">
            <label for="cc" class="col-md-2 col-form-label">To Department:</label>
            <div class="col-md-10">
              <select class="form-control" name="department" id="field_department" formControlName="department"
                [ngClass]="{ 'is-invalid': isEscalationFormSubmitted && escalationForm.get('department').errors,
              'is-valid': escalationForm.get('department').touched && !escalationForm.get('department').errors }">
                <option value="">Select One</option>
                <!-- <option value="1">DNCRP</option> -->
                <option [value]="department.id" *ngFor="let department of departments">{{department.name}}
                </option>
              </select>
              <div *ngIf="isEscalationFormSubmitted && escalationForm.get('department').errors"
                class="invalid-feedback">
                <div *ngIf="escalationForm.get('department')?.errors?.required">
                  Department Name is required.
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="form-row mb-3">
            <label for="bcc" class="col-md-2 col-form-label">To User:</label>
            <div class="col-md-10">
              <input type="email" class="form-control" name="user" id="field_user" formControlName="user"
                placeholder="Type username"
                [ngClass]="{ 'is-invalid': isEscalationFormSubmitted && escalationForm.get('user').errors,'is-valid': escalationForm.get('user').touched && !escalationForm.get('user').errors }">
              <div *ngIf="isEscalationFormSubmitted && escalationForm.get('user').errors" class="invalid-feedback">
                <div *ngIf="escalationForm.get('user')?.errors?.required">
                  User Name is required.
                </div>
              </div>
            </div>
          </div> -->
          <div class="form-row mb-3">
            <label for="bcc" class="col-md-2 col-form-label">Message:</label>
            <div class="col-md-10">
              <textarea class="form-control" rows="8" name="message" id="field_message" formControlName="message"
                placeholder="Type your message"></textarea>
            </div>
          </div>
        </form>
        <div class="row">
          <div class="col-sm-11 ml-auto">
            <div class="form-group">
              <button type="button" class="btn btn-success" (click)="submitEscalationForm()">Send</button>
              <button type="submit" class="btn btn-light" routerLink="/dashboard">Cancel</button>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
</div>